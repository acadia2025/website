<style>
    .image-gallery {overflow: auto; margin-left: -3%!important;}
    .image-gallery li {float: left; display: block; margin: 0 0 3% 3%; width:28%;}
    .image-gallery li a {text-align: center; text-decoration: none!important; color: #777;}
    .image-gallery li a span {display: block; text-overflow: ellipsis; overflow: hidden; white-space: nowrap; padding: 3px 0;}
    .image-gallery li a img {width: 100%; display: block; object-fit: cover; aspect-ratio: 1/1;} /* Added object-fit: cover; here */
  </style>
  
  <ul class="image-gallery">
    {% for file in site.static_files %}
      {% if file.path contains include.folder and (file.extname == '.jpg' or file.extname == '.jpeg' or file.extname == '.png' or file.extname == '.JPG' or file.extname == '.JPEG' or file.extname == '.PNG' or file.extname == '.gif' or file.extname == '.GIF' or file.extname == '.jfif') %}
        {% assign filenameparts = file.path | split: "/" %}
        {% assign filename = filenameparts | last | replace: file.extname, "" %}
        <li>
          <a href="{{ site.url }}{{ file.path | relative_url }}" title="{{ filename }}">
            <img src="{{ site.url }}{{ file.path | relative_url }}" alt="{{ filename }}" title="{{ filename }}" />
            <span>{{ filename }}</span>
          </a>
        </li>
      {% endif %}
    {% endfor %}
  </ul>