{% assign pattern = include.pattern | default: '  ACADIA 2025 MIAMI  ' %}
{% assign overlay_text = include.overlay_text | default: 'COMPUTING FOR RESILIENCE' %}
{% assign textsize = include.textsize | default: 30 %}
{% assign height = include.height | default: 300 %}
{% assign width = include.width | default: 600 %}

<div id="p5-container"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.8.0/p5.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.8.0/addons/p5.sound.min.js"></script>
<script>
    // Define global parameters for the banner
    window.bannerConfig = {
        pattern: '{{ pattern }}',
        overlayText: '{{ overlay_text }}',
        textsize: {{ textsize }},
        height: {{ height }},
        width: {{ width }}
    };
    
    // Wait for p5.js to load
    window.addEventListener('load', function() {
        const script = document.createElement('script');
        script.type = 'module';
        script.src = '/assets/js/banner.js';
        document.body.appendChild(script);
    });
</script>

<style>
    #p5-container {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
        max-width: {{ width }}px;
        height: {{ height }}px;
        margin: auto;
        margin-bottom: 2rem;
    }
    canvas {
        display: block;
        width: 100% !important;
        height: {{ height }}px !important;
    }
</style>